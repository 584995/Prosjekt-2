DROP SCHEMA IF EXISTS yatzy CASCADE;
CREATE SCHEMA yatzy;
SET search_path = yatzy;

CREATE TABLE bruker
(
 
	brukernavn         	CHARACTER VARYING (20) PRIMARY KEY,
	passord        		CHARACTER VARYING (100),
	mobil          		INTEGER,
	epost          		CHARACTER VARYING (50),
	purringer			INTEGER

);

INSERT INTO bruker VALUES 
	('Vebbis', 'qwerqwer', '90415969', 'vebjoern.vaardal@gmail.com', 0),
	('Vebbis98', 'qwerqwer', '90415969', 'vebjoern.vaardal@gmail.com', 0),
	('Testeboi1', 'qwerqwer', '90415969', 'vebjoern.vaardal@gmail.com', 0),
	('Testeboi2', 'qwerqwer', '90415969', 'vebjoern.vaardal@gmail.com', 0);
	
CREATE TABLE resultat
(
 
	id 					SERIAL PRIMARY KEY,
	startet				BOOLEAN,
	spiller_tur 		INTEGER,
	kast_tur			INTEGER,
	runde				INTEGER,
	ferdig_dato			CHARACTER VARYING (10),
	enere				CHARACTER VARYING (102) NOT NULL, 
	toere				CHARACTER VARYING (102) NOT NULL,
	treere				CHARACTER VARYING (102) NOT NULL,
	firere				CHARACTER VARYING (102) NOT NULL,
	femmere				CHARACTER VARYING (102) NOT NULL,
	seksere				CHARACTER VARYING (102) NOT NULL,
	ett_par				CHARACTER VARYING (102) NOT NULL,
	to_par				CHARACTER VARYING (102) NOT NULL,
	tre_like			CHARACTER VARYING (102) NOT NULL,
	fire_like			CHARACTER VARYING (102) NOT NULL,
	liten_straight		CHARACTER VARYING (102) NOT NULL,
	stor_straight		CHARACTER VARYING (102) NOT NULL,
	hus					CHARACTER VARYING (102) NOT NULL,
	sjanse				CHARACTER VARYING (102) NOT NULL,
	yatzy				CHARACTER VARYING (102) NOT NULL

);

INSERT INTO resultat VALUES
	(DEFAULT, true, 0, 0, 16, '25.03.2021',
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000', 
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000', 
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000', 
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000', 
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000'),
	(DEFAULT, true, 0, 0, 1, NULL,
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000', 
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000', 
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000', 
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000', 
	'0000000000000000000000000000000000', '0000000000000000000000000000000000', '0000000000000000000000000000000000');
	
CREATE TABLE bruker_resultat
(
 
	bruker_id			CHARACTER VARYING (20),
	resultat_id 		INTEGER,
	PRIMARY KEY (bruker_id, resultat_id),
	FOREIGN KEY (bruker_id) REFERENCES bruker(brukernavn),
	FOREIGN KEY (resultat_id) REFERENCES resultat(id)

);

INSERT INTO bruker_resultat VALUES 
	('Vebbis', 1),
	('Vebbis98', 1),
	('Vebbis', 2),
	('Vebbis98', 2);
	